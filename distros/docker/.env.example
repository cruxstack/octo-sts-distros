# Octo-STS Docker Compose Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# Your domain name (e.g., sts.example.com)
STS_DOMAIN=sts.example.com

# GitHub App ID (from your GitHub App settings)
GITHUB_APP_ID=123456

# GitHub Webhook Secret (from your GitHub App settings)
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# GITHUB APP PRIVATE KEY (choose ONE method)
# =============================================================================

# Option 1: Private key as environment variable (recommended for containers)
# Paste the entire PEM file contents here
# APP_SECRET_CERTIFICATE_ENV_VAR="-----BEGIN RSA PRIVATE KEY-----
# ...
# -----END RSA PRIVATE KEY-----"

# Option 2: Private key file path
# Path inside the container where the key will be mounted
# APP_SECRET_CERTIFICATE_FILE=/secrets/github-app-key.pem
# Path on the host machine to the key file
# APP_SECRET_CERTIFICATE_HOST_PATH=/path/to/github-app-key.pem

# Option 3: Cloud KMS (for production deployments)
# KMS_KEY=projects/my-project/locations/global/keyRings/my-ring/cryptoKeys/my-key/cryptoKeyVersions/1

# =============================================================================
# TLS CONFIGURATION
# =============================================================================

# TLS mode: "on" for Let's Encrypt (default), "off" for edge termination
# Set to "off" when using ngrok, cloud load balancer, or other TLS termination
TLS_MODE=on

# Email for Let's Encrypt certificate notifications (required when TLS_MODE=on)
TLS_EMAIL=admin@example.com

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# HTTP/HTTPS ports (defaults: 80/443)
# HTTP_PORT=80
# HTTPS_PORT=443

# Enable metrics and tracing (default: false for docker deployment)
# Requires GCP infrastructure for full functionality
# METRICS=false

# Filter webhook events to specific organizations (comma-separated)
# GITHUB_WEBHOOK_ORGANIZATION_FILTER=my-org,another-org

# CloudEvents endpoint for observability
# EVENT_INGRESS_URI=https://events.example.com/ingress
